# all:
# 	gcc ksocket.c initksocket.c -o initksocket -lpthread
# 	gcc ksocket.c user1.c -o user1 -lpthread
# 	gcc ksocket.c user2.c -o user2 -lpthread
# 	./initksocket 

# clean:
# 	rm -f initksocket user1 user2


# Makefile to generate libksocket.a

# Compiler and flags
# Makefile to build libksocket.a (C++ version)

# Compiler and flags
CXX = g++
CXXFLAGS = -Wall -g

# Target library
LIB = libksocket.a

# Object files
OBJS = ksocket.o

# Default target
all: $(LIB)

# Rule to create the static library
$(LIB): $(OBJS)
	ar rcs $(LIB) $(OBJS)
	@echo "Library $(LIB) created"

# Rule to compile ksocket.cpp into ksocket.o
ksocket.o: ksocket.cpp ksocket.h
	$(CXX) $(CXXFLAGS) -c ksocket.cpp -o ksocket.o

# Clean up
clean:
	rm -f $(OBJS) $(LIB)
	@echo "Cleaned up library files"

.PHONY: all clean
